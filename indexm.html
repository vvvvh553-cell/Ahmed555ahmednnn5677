DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± HASSOU Sahara - ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ</title>
    <link rel="icon" href="https://i.ibb.co/ds0twW8y/IMG-20250826-014020.jpg" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Almarai', sans-serif;
            margin: 0;
            background-color: #f7f8fa;
            color: #333;
            position: relative;
            overflow-x: hidden;
        }
        .container { padding: 0 15px; }
        .promo-banner { background: linear-gradient(90deg, #1e3a8a, #3b82f6); color: white; text-align: center; padding: 12px; font-size: 1.1rem; font-weight: bold; display: flex; justify-content: center; align-items: center; gap: 15px; }
        .promo-banner .countdown { background-color: rgba(255,255,255,0.15); padding: 4px 10px; border-radius: 6px; font-family: monospace; font-size: 1.2rem; }
        .main-header { background-color: #fff; padding: 15px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; }
        .logo-text { font-size: 1.8rem; font-weight: 800; color: #1f2937; text-decoration: none; }
        .logo-text span { color: #f59e0b; }
        .header-icons { display: flex; align-items: center; }
        .menu-icon { font-size: 1.8rem; cursor: pointer; margin-left: 20px;}
        .cart-icon-container { position: relative; cursor: pointer; }
        .cart-icon { font-size: 1.8rem; color: #1f2937; }
        .cart-count { background-color: #f59e0b; color: white; font-size: 0.8rem; font-weight: bold; border-radius: 50%; padding: 2px 6px; position: absolute; top: -8px; right: -8px; min-width: 20px; text-align: center; line-height: 1.2; }
        .side-menu { position: fixed; top: 0; right: -300px; width: 280px; height: 100%; background-color: #fff; box-shadow: -5px 0 15px rgba(0,0,0,0.1); z-index: 3000; transition: right 0.3s ease-in-out; padding: 20px; box-sizing: border-box; }
        .side-menu.open { right: 0; }
        .side-menu h3 { margin-top: 0; text-align: center; border-bottom: 1px solid #eee; padding-bottom: 15px; }
        .menu-links a { display: flex; align-items: center; gap: 10px; padding: 15px 10px; color: #333; text-decoration: none; border-radius: 8px; font-weight: 700; font-size: 1.1rem; }
        .menu-links a:hover { background-color: #f0f0f0; }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.4); z-index: 1999; }
        .overlay.active { display: block; }
        .main-footer { background-color: #1f2937; color: #fff; text-align: center; padding: 30px 15px; margin-top: 40px; }
        .footer-title { font-size: 1.5rem; margin-bottom: 20px; }
        .contact-info p { margin: 10px 0; font-size: 1.1rem; }
        .contact-info a { color: #f59e0b; text-decoration: none; font-weight: 700; }
        .contact-info .icon { margin-left: 10px; }
        .section-title { font-size: 1.5rem; font-weight: 800; text-align: center; margin: 30px 0 20px 0; }
        .category-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; }
        .category-card { background-color: #fff; border: 2px solid #eee; border-radius: 12px; overflow: hidden; text-align: center; cursor: pointer; }
        .category-card.active { border-color: #f59e0b; }
        .category-card img { width: 100%; height: 100px; object-fit: cover; }
        .category-card p { margin: 0; padding: 10px; font-weight: 700; }
        .products-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .product-card { background-color: #fff; border: 2px solid #d2b48c; border-radius: 12px; overflow: hidden; text-align: center; padding: 15px; display: flex; flex-direction: column; transition: all 0.2s ease; }
        .product-card:hover { box-shadow: 0 5px 15px rgba(0,0,0,0.1); transform: translateY(-3px); }
        .product-card img { width: 100%; height: 160px; object-fit: cover; border-radius: 8px; }
        .product-card h3 { margin: 15px 10px 5px 10px; font-size: 1.1rem; min-height: 45px; }
        .product-card .stars { color: #ffc107; font-size: 1.1rem; margin-bottom: 10px; }
        .price-container { margin: 10px 0; }
        .price-container .old-price { text-decoration: line-through; color: #999; font-size: 1rem; margin-left: 8px; }
        .price-container .new-price { color: #f59e0b; font-size: 1.3rem; font-weight: 800; }
        .add-to-cart-button { background-color: #f59e0b; color: white; border: none; border-radius: 8px; padding: 10px 15px; font-size: 1rem; font-weight: bold; cursor: pointer; width: 100%; transition: background-color 0.2s; margin-top: auto; }
        .add-to-cart-button:hover { background-color: #d97706; }
        .logo-banner-section { margin: 40px 0; padding: 20px; background-color: #fff; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.07); text-align: center; }
        .logo-banner-section img { max-width: 80%; height: auto; max-height: 150px; border-radius: 10px; }
        .logo-banner-section h2 { font-size: 1.6rem; margin-top: 15px; color: #1f2937; }
        .gif-section { margin: 40px 0; text-align: center; }
        .gif-section img { max-width: 100%; height: auto; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .features-section { margin-top: 40px; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .feature-item { background-color: #fff; padding: 25px; border-radius: 12px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .feature-item .icon { font-size: 2.5rem; color: #f59e0b; margin-bottom: 15px; }
        .feature-item h4 { margin: 0 0 10px 0; font-size: 1.2rem; }
        .feature-item p { margin: 0; color: #666; line-height: 1.6; }
        .live-viewers-section { background-color: #fff; border-radius: 12px; padding: 25px; margin: 40px 0; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.07); }
        .live-viewers-section h2 { margin: 0; font-size: 1.8rem; font-weight: 800; }
        .live-viewers-section .viewers-count { color: #f59e0b; font-size: 2.5rem; font-weight: 800; margin-left: 10px; }
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); z-index: 4000; justify-content: flex-start; align-items: flex-start; padding-top: 5%; overflow-y: auto; }
        .modal-overlay.show { display: flex; }
        .modal-content { background-color: #fff; width: 90%; max-width: 500px; border-radius: 15px; position: relative; margin: 0 auto 5% auto; }
        .modal-content .close-button { position: absolute; top: 10px; left: 15px; font-size: 2rem; font-weight: bold; color: #aaa; cursor: pointer; z-index: 1; }
        .modal-body { padding: 20px; }
        .modal-product-title { font-size: 1.8rem; text-align: center; margin-bottom: 15px; }
        .order-section { margin-top: 30px; background-color: #f7f8fa; padding: 20px; border-radius: 12px; }
        .order-section h3 { text-align: center; margin-top: 0; }
        .order-form input { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; text-align: right; }
        .order-form .submit-order-button { width: 100%; background-color: #25D366; color: white; padding: 15px; font-size: 1.2rem; font-weight: bold; border: none; border-radius: 8px; cursor: pointer; }
        .cart-item { display: flex; align-items: center; border-bottom: 1px solid #eee; padding: 10px 0; margin-bottom: 10px; }
        .cart-item:last-child { border-bottom: none; margin-bottom: 0; }
        .cart-item-image { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; margin-left: 15px; }
        .cart-item-details { flex-grow: 1; }
        .cart-item-details h4 { margin: 0 0 5px 0; font-size: 1.1rem; }
        .cart-item-details p { margin: 0 0 10px 0; color: #666; }
        .quantity-control-cart { display: flex; align-items: center; margin-bottom: 10px; }
        .quantity-control-cart .quantity-btn-cart { background-color: #f0f0f0; border: none; padding: 5px 10px; font-size: 1rem; cursor: pointer; border-radius: 4px; }
        .quantity-control-cart .quantity-display-cart { padding: 0 10px; font-weight: bold; }
        .remove-item-btn { background-color: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 8px; cursor: pointer; font-size: 0.9rem; }
        .cart-summary { text-align: center; font-size: 1.3rem; font-weight: bold; margin-top: 20px; padding-top: 15px; border-top: 1px solid #eee; }
        .toast-notification { position: fixed; bottom: -100px; left: 50%; transform: translateX(-50%); background-color: #333; color: white; padding: 15px 25px; border-radius: 8px; z-index: 5000; transition: bottom 0.3s ease-in-out; }
        .toast-notification.show { bottom: 30px; }

        /* New Product Details Modal Styles */
        .product-details-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 4000;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }
        .product-details-modal-overlay.show {
            display: flex;
        }
        .product-details-modal-content {
            background-color: #fff;
            width: 90%;
            max-width: 600px;
            border-radius: 15px;
            position: relative;
            margin: 20px auto;
            padding: 20px;
            box-sizing: border-box;
        }
        .product-details-modal-content .close-button {
            position: absolute;
            top: 10px;
            left: 15px;
            font-size: 2rem;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
            z-index: 1;
        }
        .product-details-modal-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        .product-details-modal-title {
            font-size: 1.8rem;
            text-align: center;
            margin-bottom: 15px;
            color: #1f2937;
        }
        .product-details-modal-description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #444;
            margin-bottom: 20px;
        }
        .product-details-modal-description h4 {
            font-size: 1.3rem;
            color: #f59e0b;
            border-bottom: 2px solid #f59e0b;
            padding-bottom: 5px;
            margin-top: 25px;
        }
        .product-details-modal-description ul {
            list-style: none;
            padding: 0;
        }
        .product-details-modal-description li {
            margin-bottom: 12px;
            display: flex;
            align-items: flex-start;
        }
        .product-details-modal-description .emoji {
            font-size: 1.5rem;
            margin-left: 12px;
            line-height: 1.6;
        }
        .product-details-modal-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f59e0b;
            text-align: center;
            margin-bottom: 20px;
        }
        .product-details-modal-add-to-cart {
            background-color: #f59e0b;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px 20px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.2s;
        }
        .product-details-modal-add-to-cart:hover {
            background-color: #d97706;
        }
    </style>
</head>

<body>
    <div class="promo-banner">
        <span>âœ¨ Ø®ØµÙˆÙ…Ø§Øª Ø­ØµØ±ÙŠØ© ØªØµÙ„ Ø¥Ù„Ù‰ 35%</span>
        <span class="countdown" id="countdown-timer"></span>
    </div>
    <div class="side-menu" id="side-menu">
        <h3>Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h3>
        <nav class="menu-links">
            <a href="#"><i class="fas fa-home"></i> Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="#category-section"><i class="fas fa-th-large"></i> Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</a>
            <a href="#footer-contact"><i class="fas fa-phone-alt"></i> Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
        </nav>
    </div>
    <div class="overlay" id="overlay"></div>
    <header class="main-header">
        <a href="#" class="logo-text">HASSOU <span>Sahara</span></a>
        <div class="header-icons">
            <div class="cart-icon-container" id="cart-icon-container">
                <i class="fas fa-shopping-cart cart-icon"></i>
                <span class="cart-count" id="cart-count">0</span>
            </div>
            <i class="fas fa-bars menu-icon" id="menu-icon"></i>
        </div>
    </header>
    <div class="container">
        <section class="category-section" id="category-section">
            <h2 class="section-title">ØªØ³ÙˆÙ‚ Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©</h2>
            <div class="category-grid" id="category-grid"></div>
        </section>
        <section class="logo-banner-section">
            <a href="https://i.ibb.co/PGf92bZ1/IMG-20250827-120943.jpg"><img src="https://i.ibb.co/PGf92bZ1/IMG-20250827-120943.jpg" alt="Ø´Ø¹Ø§Ø± HASSOU Sahara Ø§Ù„Ø¬Ø¯ÙŠØ¯"></a>
            <h2>Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø«Ù‚Ø© ÙÙŠ ÙƒÙ„ Ù…Ù†ØªØ¬ Ù†Ù‚Ø¯Ù…Ù‡</h2>
        </section>
        <section class="live-viewers-section">
            <h2>
                ğŸ”¥ ÙŠØ´Ø§Ù‡Ø¯Ù‡ Ø§Ù„Ø¢Ù†
                <span class="viewers-count" id="viewers-count">29</span>
            </h2>
        </section>
        <section class="products-section">
            <h2 class="section-title" id="products-title">ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
            <div class="products-grid" id="products-grid"></div>
        </section>
        <section class="gif-section">
            <img src="https://media4.giphy.com/media/v1.Y2lkPTZjMDliOTUyZWkycm1pNGI4c3VnbGFjZmN3NGM0OWwwMWI1bndxc3U3ZTd0bmI0bCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/lqvyGD9QD74wQk1vZ4/giphy.gif" alt="ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ ÙˆØ³Ø±ÙŠØ¹">
        </section>
        <section class="features-section">
            <div class="feature-item">
                <div class="icon"><i class="fas fa-shipping-fast"></i></div>
                <h4>ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ ÙˆÙ…Ø¬Ø§Ù†ÙŠ</h4>
                <p>Ø§Ø³ØªÙ„Ù… Ø·Ù„Ø¨Ùƒ ÙÙŠ Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ† ÙˆØ¨Ø¯ÙˆÙ† Ø£ÙŠ Ù…ØµØ§Ø±ÙŠÙ Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ØªÙˆØµÙŠÙ„.</p>
            </div>
            <div class="feature-item">
                <div class="icon"><i class="fas fa-hand-holding-usd"></i></div>
                <h4>Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</h4>
                <p>Ù„Ø§ ØªØ¯ÙØ¹ Ø£ÙŠ Ø´ÙŠØ¡ Ù…Ù‚Ø¯Ù…Ø§Ù‹. Ø¹Ø§ÙŠÙ† Ù…Ù†ØªØ¬Ùƒ ÙˆØªØ£ÙƒØ¯ Ù…Ù†Ù‡ Ø«Ù… Ù‚Ù… Ø¨Ø§Ù„Ø¯ÙØ¹.</p>
            </div>
            <div class="feature-item">
                <div class="icon"><i class="fas fa-headset"></i></div>
                <h4>Ø®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡ 24/7</h4>
                <p>ÙØ±ÙŠÙ‚Ù†Ø§ Ù…ØªÙˆØ§Ø¬Ø¯ Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø© Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒ.</p>
            </div>
        </section>
    </div>
    <footer class="main-footer" id="footer-contact">
        <h3 class="footer-title">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
        <div class="contact-info">
            <p><i class="fas fa-phone-alt icon"></i> <a href="tel:0607072825">0607072825</a></p>
            <p><i class="fas fa-envelope icon"></i> <a href="mailto:ahmedroor014@gmail.com">ahmedroor014@gmail.com</a></p>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div class="modal-overlay" id="cart-modal">
        <div class="modal-content">
            <span class="close-button" id="cart-close-button">&times;</span>
            <div class="modal-body">
                <h2 class="modal-product-title">Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h2>
                <div id="cart-items-container"></div>
                <div class="cart-summary">
                    <p>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="cart-total">0</span> MAD</p>
                </div>
                <div class="order-section">
                    <h3>ğŸ“ Ø§Ù…Ù„Ø£ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</h3>
                    <form class="order-form" id="cart-order-form">
                        <input type="text" name="full-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
                        <input type="tel" name="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
                        <input type="text" name="city" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" required>
                        <button type="submit" class="submit-order-button">
                            <i class="fab fa-whatsapp"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Details Modal -->
    <div class="product-details-modal-overlay" id="product-details-modal">
        <div class="product-details-modal-content">
            <span class="close-button" id="product-details-close-button">&times;</span>
            <img src="" alt="" class="product-details-modal-image" id="product-details-image">
            <h2 class="product-details-modal-title" id="product-details-title"></h2>
            <p class="product-details-modal-price" id="product-details-price"></p>
            <div class="product-details-modal-description" id="product-details-description"></div>
            <button class="product-details-modal-add-to-cart" id="product-details-add-to-cart">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
        </div>
    </div>

    <script>
        const db = {
            categories: [
                { id: 'all', name: 'Ø§Ù„ÙƒÙ„', image: 'https://i.ibb.co/ds0twW8y/IMG-20250826-014020.jpg' },
                { id: 'electronics', name: 'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª', image: 'https://i.ibb.co/vx2Mjt1P/IMG-20250826-003818.jpg' },
                { id: 'kitchen', name: 'Ù…Ø·Ø¨Ø®', image: 'https://i.ibb.co/fG1vQDFt/Screenshot-2025-08-26-00-28-15-926-edit-com-android-chrome.jpg' },
                { id: 'tools', name: 'Ø£Ø¯ÙˆØ§Øª', image: 'https://i.ibb.co/0Vq2FG35/IMG-20250824-130404.jpg' }
            ],
            products: [
                { id: 1, name: 'Ù…Ø­ÙˆÙ„ Ø·Ø§Ù‚Ø© Ø§Ø­ØªØ±Ø§ÙÙŠ', oldPrice: 450, newPrice: 299, img: 'https://i.ibb.co/XrW7Xbkn/IMG-20250824-130200.jpg', category: 'electronics', rating: 5, description: '<h4>âœ¨ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬:</h4><ul><li><span class="emoji">âš¡</span> Ù…Ø­ÙˆÙ„ Ø·Ø§Ù‚Ø© Ø¹Ø§Ù„ÙŠ Ø§Ù„ÙƒÙØ§Ø¡Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø·Ø§Ù‚Ø© Ù…Ù† 12 ÙÙˆÙ„Øª Ø¥Ù„Ù‰ 220 ÙÙˆÙ„Øª.</li><li><span class="emoji">ğŸš—</span> Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©.</li><li><span class="emoji">ğŸ›¡ï¸</span> Ø­Ù…Ø§ÙŠØ© Ù…Ø¯Ù…Ø¬Ø© Ø¶Ø¯ Ø§Ù„Ø­Ù…Ù„ Ø§Ù„Ø²Ø§Ø¦Ø¯ ÙˆØ§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø²Ø§Ø¦Ø¯Ø©.</li><li><span class="emoji">ğŸ”Œ</span> Ù…Ù†Ø§ÙØ° Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ø´Ø­Ù† Ø£Ø¬Ù‡Ø²Ø© Ù…Ø®ØªÙ„ÙØ© ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª.</li></ul>' },
                { id: 2, name: 'Ù…ØµØ¨Ø§Ø­ ÙŠØ¯ÙˆÙŠ ØªÙƒØªÙŠÙƒÙŠ', oldPrice: 400, newPrice: 299, img: 'https://i.ibb.co/0Vq2FG35/IMG-20250824-130404.jpg', category: 'tools', rating: 5, description: '<h4>âœ¨ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬:</h4><ul><li><span class="emoji">ğŸ”¦</span> Ø¥Ø¶Ø§Ø¡Ø© Ù‚ÙˆÙŠØ© Ø¬Ø¯Ø§Ù‹ ØªØµÙ„ Ø¥Ù„Ù‰ Ù…Ø³Ø§ÙØ§Øª Ø¨Ø¹ÙŠØ¯Ø©.</li><li><span class="emoji">ğŸ”‹</span> Ø¨Ø·Ø§Ø±ÙŠØ© ØªØ¯ÙˆÙ… Ø·ÙˆÙŠÙ„Ø§Ù‹ ÙˆÙ‚Ø§Ø¨Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø´Ø­Ù†.</li><li><span class="emoji">ğŸ’ª</span> ØªØµÙ…ÙŠÙ… Ù…ØªÙŠÙ† ÙˆÙ…Ù‚Ø§ÙˆÙ… Ù„Ù„Ù…Ø§Ø¡ ÙˆØ§Ù„ØµØ¯Ù…Ø§Øª.</li><li><span class="emoji">ğŸ•ï¸</span> Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„ØªØ®ÙŠÙŠÙ…ØŒ Ø§Ù„ØµÙŠØ¯ØŒ ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„Ø·Ø§Ø±Ø¦Ø©.</li></ul>' },
                { id: 3, name: 'Ù…Ø±ÙˆØ­Ø© Ø³ÙŠØ§Ø±Ø© Ù…Ø²Ø¯ÙˆØ¬Ø©', oldPrice: 380, newPrice: 299, img: 'https://i.ibb.co/BVn6VnFR/IMG-20250824-130438.jpg', category: 'electronics', rating: 4, description: '<h4>âœ¨ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬:</h4><ul><li><span class="emoji">ğŸŒ¬ï¸</span> Ù…Ø±ÙˆØ­Ø© Ù…Ø²Ø¯ÙˆØ¬Ø© Ù„ØªØ¨Ø±ÙŠØ¯ ÙØ¹Ø§Ù„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³ÙŠØ§Ø±Ø©.</li><li><span class="emoji">ğŸ”„</span> Ø±Ø¤ÙˆØ³ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø¯ÙˆØ±Ø§Ù† 360 Ø¯Ø±Ø¬Ø© Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù‡ÙˆØ§Ø¡.</li><li><span class="emoji">ğŸ”Œ</span> ØªØ¹Ù…Ù„ Ø¹Ø¨Ø± Ù…Ù†ÙØ° ÙˆÙ„Ø§Ø¹Ø© Ø§Ù„Ø³Ø¬Ø§Ø¦Ø± 12 ÙÙˆÙ„Øª.</li><li><span class="emoji">ğŸ› ï¸</span> Ø³Ù‡Ù„Ø© Ø§Ù„ØªØ±ÙƒÙŠØ¨ ÙˆØ§Ù„Ø¥Ø²Ø§Ù„Ø©.</li></ul>' },
                { id: 4, name: 'Ù…Ø­ÙˆÙ„ Ø·Ø§Ù‚Ø© Ø´Ù…Ø³ÙŠ', oldPrice: 500, newPrice: 399, img: 'https://i.ibb.co/b5ZShfJF/IMG-20250824-130243.jpg', category: 'electronics', rating: 4, description: '<h4>âœ¨ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬:</h4><ul><li><span class="emoji">â˜€ï¸</span> ÙŠØ­ÙˆÙ„ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ© Ø¥Ù„Ù‰ ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù†Ø²Ù„ÙŠ Ø£Ùˆ ÙÙŠ Ø§Ù„Ø±Ø­Ù„Ø§Øª.</li><li><span class="emoji">ğŸ”‹</span> ÙŠØ¯Ø¹Ù… Ø´Ø­Ù† Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ§Øª Ø§Ù„Ø´Ù…Ø³ÙŠØ©.</li><li><span class="emoji">ğŸ›¡ï¸</span> Ø­Ù…Ø§ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ø¶Ø¯ Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø²Ø§Ø¦Ø¯ ÙˆØ§Ù„ØªÙØ±ÙŠØº Ø§Ù„Ø²Ø§Ø¦Ø¯.</li><li><span class="emoji">ğŸ¡</span> Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ù…Ù†Ø§Ø²Ù„ Ø§Ù„Ù…ØªÙ†Ù‚Ù„Ø©ØŒ Ø§Ù„ÙƒØ¨Ø§Ø¦Ù†ØŒ Ø£Ùˆ ÙƒÙ…ØµØ¯Ø± Ø·Ø§Ù‚Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠ.</li></ul>' },
                { id: 5, name: 'Ø§Ù„Ø¹ØµØ§Ø±Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©', oldPrice: 350, newPrice: 270, img: 'https://i.ibb.co/MDqNJKXj/Screenshot-2025-08-24-12-59-14-196-com-whatsapp.jpg', category: 'kitchen', rating: 5, description: '<h4>âœ¨ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬:</h4><ul><li><span class="emoji">ğŸ¥¤</span> ØªØµÙ…ÙŠÙ… Ù…Ø¯Ù…Ø¬ ÙˆÙ…Ø­Ù…ÙˆÙ„ØŒ Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø¹ØµØ§Ø¦Ø± Ø§Ù„Ø·Ø§Ø²Ø¬Ø© ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù†.</li><li><span class="emoji">ğŸ”‹</span> Ø¨Ø·Ø§Ø±ÙŠØ© Ù‚ÙˆÙŠØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø´Ø­Ù† Ø¹Ø¨Ø± USB.</li><li><span class="emoji">ğŸ§¼</span> Ø³Ù‡Ù„Ø© Ø§Ù„ØªÙ†Ø¸ÙŠÙ ÙˆØ§Ù„ØªÙÙƒÙŠÙƒ.</li><li><span class="emoji">ğŸ</span> Ø´ÙØ±Ø§Øª Ø­Ø§Ø¯Ø© Ù„Ø®Ù„Ø· Ø§Ù„ÙÙˆØ§ÙƒÙ‡ ÙˆØ§Ù„Ø®Ø¶Ø±ÙˆØ§Øª Ø¨ÙØ¹Ø§Ù„ÙŠØ©.</li></ul>' },
                { id: 6, name: 'Ø®Ù„Ø§Ø· Ø´Ø®ØµÙŠ (Ø£Ø³ÙˆØ¯)', oldPrice: 350, newPrice: 270, img: 'https://i.ibb.co/Y4xX67c7/Screenshot-2025-08-24-12-58-04-141-com-whatsapp.jpg', category: 'kitchen', rating: 4, description: '<h4>âœ¨ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬:</h4><ul><li><span class="emoji">ğŸ–¤</span> ØªØµÙ…ÙŠÙ… Ø£Ù†ÙŠÙ‚ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³ÙˆØ¯.</li><li><span class="emoji">ğŸ¥¤</span> Ù…Ø«Ø§Ù„ÙŠ Ù„ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø¹ØµØ§Ø¦Ø± ÙˆØ§Ù„Ø³Ù…ÙˆØ«ÙŠ Ø¨Ø³Ø±Ø¹Ø©.</li><li><span class="emoji">ğŸ’ª</span> Ù…Ø­Ø±Ùƒ Ù‚ÙˆÙŠ ÙˆØ´ÙØ±Ø§Øª Ù…ØªÙŠÙ†Ø©.</li><li><span class="emoji">ğŸ’</span> Ø³Ù‡Ù„ Ø§Ù„Ø­Ù…Ù„ ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù†.</li></ul>' },
                { id: 7, name: 'Ø®Ù„Ø§Ø· Ø´Ø®ØµÙŠ (Ø£Ø®Ø¶Ø±)', oldPrice: 350, newPrice: 270, img: 'https://i.ibb.co/4RCksWSQ/Screenshot-2025-08-24-12-58-46-994-com-whatsapp.jpg', category: 'kitchen', rating: 5, description: '<h4>âœ¨ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬:</h4><ul><li><span class="emoji">ğŸ’š</span> Ù„ÙˆÙ† Ø£Ø®Ø¶Ø± Ø­ÙŠÙˆÙŠ ÙŠÙØªØ­ Ø´Ù‡ÙŠØªÙƒ Ù„Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ©.</li><li><span class="emoji">ğŸ¹</span> Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø¹ØµÙŠØ± Ø·Ø§Ø²Ø¬ ÙÙŠ Ø«ÙˆØ§Ù† Ù…Ø¹Ø¯ÙˆØ¯Ø©.</li><li><span class="emoji">ğŸ”ª</span> Ø´ÙØ±Ø§Øª ÙÙˆÙ„Ø§Ø°ÙŠØ© Ù‚ÙˆÙŠØ© ØªØ¶Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø£ÙŠ ØªÙƒØªÙ„Ø§Øª.</li><li><span class="emoji">ğŸš¶</span> Ø®Ø°Ù‡ Ù…Ø¹Ùƒ Ø¥Ù„Ù‰ Ø£ÙŠ Ù…ÙƒØ§Ù†: Ø§Ù„Ø¹Ù…Ù„ØŒ Ø§Ù„Ù†Ø§Ø¯ÙŠØŒ Ø£Ùˆ ÙÙŠ Ù†Ø²Ù‡Ø©.</li><li><span class="emoji">ğŸ</span> Ù‡Ø¯ÙŠØ© Ø±Ø§Ø¦Ø¹Ø© ÙˆÙ…Ø«Ø§Ù„ÙŠØ© Ù„ÙƒÙ„ Ù…Ø­Ø¨ÙŠ Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø±Ø´Ø§Ù‚Ø©.</li></ul>' },
                { id: 8, name: 'ÙƒØ´Ø§Ù Ø´Ù…Ø³ÙŠ Ù…Ø¹ Ø±Ø§Ø¯ÙŠÙˆ', oldPrice: 300, newPrice: 239, img: 'https://i.ibb.co/MxJPvM3V/Screenshot-2025-08-24-12-58-18-377-com-whatsapp.jpg', category: 'tools', rating: 4, description: '<h4>âœ¨ Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬:</h4><ul><li><span class="emoji">â˜€ï¸</span> ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŒ ØµØ¯ÙŠÙ‚ Ù„Ù„Ø¨ÙŠØ¦Ø©.</li><li><span class="emoji">ğŸ“»</span> Ø±Ø§Ø¯ÙŠÙˆ Ù…Ø¯Ù…Ø¬ Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ÙˆØ§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰.</li><li><span class="emoji">ğŸ”¦</span> Ø¥Ø¶Ø§Ø¡Ø© LED Ù‚ÙˆÙŠØ© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ø§Ù„Ø¸Ù„Ø§Ù….</li><li><span class="emoji">ğŸ•ï¸</span> Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„ØªØ®ÙŠÙŠÙ…ØŒ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ØŒ ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©.</li></ul>' }
            ]
        };

        document.addEventListener("DOMContentLoaded", () => {
            const categoryGrid = document.getElementById('category-grid');
            const productsGrid = document.getElementById('products-grid');
            const productsTitle = document.getElementById('products-title');
            const viewersCountEl = document.getElementById('viewers-count');
            const menuIcon = document.getElementById('menu-icon');
            const sideMenu = document.getElementById('side-menu');
            const overlay = document.getElementById('overlay');
            const countdownTimerEl = document.getElementById('countdown-timer');
            const cartIconContainer = document.getElementById("cart-icon-container");
            const cartCountEl = document.getElementById("cart-count");
            const cartModal = document.getElementById("cart-modal");
            const cartCloseButton = document.getElementById("cart-close-button");
            const cartItemsContainer = document.getElementById("cart-items-container");
            const cartTotalEl = document.getElementById("cart-total");
            const cartOrderForm = document.getElementById("cart-order-form");

            // Product Details Modal Elements
            const productDetailsModal = document.getElementById('product-details-modal');
            const productDetailsCloseButton = document.getElementById('product-details-close-button');
            const productDetailsImage = document.getElementById('product-details-image');
            const productDetailsTitle = document.getElementById('product-details-title');
            const productDetailsPrice = document.getElementById('product-details-price');
            const productDetailsDescription = document.getElementById('product-details-description');
            const productDetailsAddToCartButton = document.getElementById('product-details-add-to-cart');

            let cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];

            // --- Menu Functions ---
            function openMenu() { sideMenu.classList.add("open"); overlay.classList.add("active"); }
            function closeMenu() { sideMenu.classList.remove("open"); overlay.classList.remove("active"); }
            menuIcon.addEventListener("click", openMenu);
            overlay.addEventListener("click", closeMenu);
            document.querySelectorAll(".menu-links a").forEach(link => link.addEventListener("click", closeMenu));

            // --- Display Functions ---
            function displayCategories() {
                db.categories.forEach(cat => {
                    const card = document.createElement("div");
                    card.className = "category-card";
                    card.innerHTML = `<img src="${cat.image}" alt="${cat.name}"><p>${cat.name}</p>`;
                    if (cat.id === 'all') card.classList.add("active");
                    card.addEventListener("click", () => {
                        document.querySelectorAll(".category-card").forEach(c => c.classList.remove("active"));
                        card.classList.add("active");
                        const filteredProducts = cat.id === "all" ? db.products : db.products.filter(p => p.category === cat.id);
                        displayProducts(filteredProducts);
                        productsTitle.textContent = cat.name === "Ø§Ù„ÙƒÙ„" ? "ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª" : `Ù…Ù†ØªØ¬Ø§Øª Ù‚Ø³Ù… ${cat.name}`;
                    });
                    categoryGrid.appendChild(card);
                });
            }

            function displayProducts(productsList) {
                productsGrid.innerHTML = "";
                productsList.forEach(product => {
                    const card = document.createElement("div");
                    card.className = "product-card";
                    const starsHTML = "â˜…".repeat(product.rating) + "â˜†".repeat(5 - product.rating);
                    card.innerHTML = `
                        <img src="${product.img}" alt="${product.name}">
                        <h3>${product.name}</h3>
                        <div class="stars">${starsHTML}</div>
                        <div class="price-container">
                            <span class="old-price">${product.oldPrice} MAD</span>
                            <span class="new-price">${product.newPrice} MAD</span>
                        </div>
                        <button class="add-to-cart-button" data-product-id="${product.id}">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
                        <button class="view-details-button" data-product-id="${product.id}">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
                    `;
                    productsGrid.appendChild(card);
                });
            }

            // --- Product Details Modal Functions ---
            function openProductDetailsModal(productId) {
                const product = db.products.find(p => p.id === productId);
                if (product) {
                    productDetailsImage.src = product.img;
                    productDetailsImage.alt = product.name;
                    productDetailsTitle.textContent = product.name;
                    productDetailsPrice.textContent = `Ø§Ù„Ø³Ø¹Ø±: ${product.newPrice} MAD`;
                    productDetailsDescription.innerHTML = product.description;
                    productDetailsAddToCartButton.dataset.productId = product.id;
                    productDetailsModal.classList.add('show');
                    document.body.style.overflow = 'hidden';
                }
            }

            function closeProductDetailsModal() {
                productDetailsModal.classList.remove('show');
                document.body.style.overflow = 'auto';
            }

            // --- Cart Functions ---
            function saveCart() {
                localStorage.setItem('shoppingCart', JSON.stringify(cart));
            }

            function addToCart(productId) {
                const product = db.products.find(p => p.id === productId);
                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                updateCartCount();
                saveCart();
                showToast(`${product.name} ØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©!`);
            }

            function updateCartCount() {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCountEl.textContent = totalItems;
            }

            function openCartModal() {
                renderCartItems();
                cartModal.classList.add("show");
                document.body.style.overflow = "hidden";
            }

            function closeCartModal() {
                cartModal.classList.remove("show");
                document.body.style.overflow = "auto";
            }

            function renderCartItems() {
                cartItemsContainer.innerHTML = "";
                let total = 0;

                if (cart.length === 0) {
                    cartItemsContainer.innerHTML = "<p style='text-align: center; margin-top: 20px;'>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙØ§Ø±ØºØ©.</p>";
                    cartTotalEl.textContent = "0";
                    return;
                }

                cart.forEach(item => {
                    const itemTotal = item.newPrice * item.quantity;
                    total += itemTotal;

                    const cartItemDiv = document.createElement("div");
                    cartItemDiv.className = "cart-item";
                    cartItemDiv.innerHTML = `
                        <img src="${item.img}" alt="${item.name}" class="cart-item-image">
                        <div class="cart-item-details">
                            <h4>${item.name}</h4>
                            <p>Ø§Ù„Ø³Ø¹Ø±: ${item.newPrice} MAD</p>
                            <div class="quantity-control-cart">
                                <button type="button" class="quantity-btn-cart minus-btn-cart" data-id="${item.id}">-</button>
                                <span class="quantity-display-cart">${item.quantity}</span>
                                <button type="button" class="quantity-btn-cart plus-btn-cart" data-id="${item.id}">+</button>
                            </div>
                        </div>
                        <button class="remove-item-btn" data-id="${item.id}">Ø¥Ø²Ø§Ù„Ø©</button>
                    `;
                    cartItemsContainer.appendChild(cartItemDiv);
                });

                cartTotalEl.textContent = total;
            }

            function updateCartItemQuantity(productId, change) {
                const item = cart.find(i => i.id === productId);
                if (item) {
                    item.quantity += change;
                    if (item.quantity <= 0) {
                        removeCartItem(productId);
                    } else {
                        renderCartItems();
                        updateCartCount();
                        saveCart();
                    }
                }
            }

            function removeCartItem(productId) {
                cart = cart.filter(item => item.id !== productId);
                renderCartItems();
                updateCartCount();
                saveCart();
            }

            function showToast(message) {
                const toast = document.createElement('div');
                toast.className = 'toast-notification';
                toast.textContent = message;
                document.body.appendChild(toast);
                setTimeout(() => {
                    toast.classList.add('show');
                }, 10);
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => {
                        document.body.removeChild(toast);
                    }, 300);
                }, 3000);
            }

            // --- Event Listeners ---
            productsGrid.addEventListener('click', function(event) {
                if (event.target.classList.contains('add-to-cart-button')) {
                    const productId = parseInt(event.target.dataset.productId);
                    addToCart(productId);
                } else if (event.target.classList.contains('view-details-button')) {
                    const productId = parseInt(event.target.dataset.productId);
                    openProductDetailsModal(productId);
                }
            });

            productDetailsCloseButton.addEventListener('click', closeProductDetailsModal);
            productDetailsModal.addEventListener('click', (event) => {
                if (event.target === productDetailsModal) closeProductDetailsModal();
            });
            productDetailsAddToCartButton.addEventListener('click', (event) => {
                const productId = parseInt(event.target.dataset.productId);
                addToCart(productId);
                closeProductDetailsModal();
            });

            cartIconContainer.addEventListener("click", openCartModal);
            cartCloseButton.addEventListener("click", closeCartModal);
            cartModal.addEventListener("click", (event) => {
                if (event.target === cartModal) closeCartModal();
            });

            cartItemsContainer.addEventListener('click', (event) => {
                const target = event.target;
                const productId = parseInt(target.dataset.id);
                if (target.classList.contains('minus-btn-cart')) {
                    updateCartItemQuantity(productId, -1);
                } else if (target.classList.contains('plus-btn-cart')) {
                    updateCartItemQuantity(productId, 1);
                } else if (target.classList.contains('remove-item-btn')) {
                    removeCartItem(productId);
                }
            });

            cartOrderForm.addEventListener("submit", (event) => {
                event.preventDefault();
                if (cart.length === 0) {
                    alert("Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙØ§Ø±ØºØ©. ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ù‚Ø¨Ù„ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨.");
                    return;
                }

                const form = event.target;
                const name = form.querySelector("[name='full-name']").value;
                const phone = form.querySelector("[name='phone']").value;
                const city = form.querySelector("[name='city']").value;

                let orderDetails = "";
                cart.forEach(item => {
                    orderDetails += `* ${item.name} (Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}) - ${item.newPrice * item.quantity} MAD\n`;
                });

                const totalOrderPrice = cart.reduce((sum, item) => sum + (item.newPrice * item.quantity), 0);

                const message = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± HASSOU Sahara* âœ¨\n\n` +
                              `--- *ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨* ---\n` +
                              `${orderDetails}\n` +
                              `*Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ:* ${totalOrderPrice} MAD\n\n` +
                              `--- *Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†* ---\n` +
                              `*Ø§Ù„Ø§Ø³Ù…:* ${name}\n` +
                              `*Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}\n` +
                              `*Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:* ${city}`;

                const whatsappUrl = `https://wa.me/212607072825?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, "_blank");
                closeCartModal();
                cart = [];
                updateCartCount();
                saveCart();
            });

            // --- Utility Functions ---
            function updateViewersCount() {
                setInterval(() => {
                    const baseViewers = 15;
                    const randomAddition = Math.floor(Math.random() * 21);
                    const newViewers = baseViewers + randomAddition;
                    viewersCountEl.textContent = newViewers;
                }, 4500);
            }

            function startCountdown() {
                const targetDate = new Date();
                targetDate.setDate(targetDate.getDate() + 2);
                targetDate.setHours(23, 59, 59, 999);

                const updateCountdown = () => {
                    const now = new Date().getTime();
                    const distance = targetDate.getTime() - now;

                    if (distance < 0) {
                        countdownTimerEl.innerHTML = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø¹Ø±Ø¶!";
                        clearInterval(countdownInterval);
                        return;
                    }

                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                    countdownTimerEl.innerHTML = `${days}ÙŠ ${hours}Ø³ ${minutes}Ø¯ ${seconds}Ø«`;
                };

                updateCountdown();
                const countdownInterval = setInterval(updateCountdown, 1000);
            }

            // --- Initial Load ---
            displayCategories();
            displayProducts(db.products);
            updateViewersCount();
            startCountdown();
            updateCartCount();
        });
    </script>
</body>

</html>
